# 🧪 노스팜CC 일매출 관리 시스템 - 테스트 가이드

## 🌐 접속 정보
- **URL**: https://3000-irg0n80vhudz17xtp5hir-a402f90a.sandbox.novita.ai

## 🔐 테스트 계정
| 구분 | 아이디 | 비밀번호 | 권한 |
|------|--------|----------|------|
| 관리자 | `admin` | `admin1234` | 마감 해제, 모든 기능 |
| 직원 | `staff1` | `staff1234` | 매출 등록/수정/삭제/마감 |
| 직원 | `staff2` | `staff1234` | 매출 등록/수정/삭제/마감 |

## ✅ 테스트 시나리오

### 1️⃣ 날씨 체크 기능 테스트
1. **staff1**으로 로그인
2. "매출 등록" 탭 클릭
3. 날씨 선택 드롭다운 확인:
   - ☀️ 맑음
   - ☁️ 흐림
   - 🌧️ 비
   - ❄️ 눈
   - 🚫 휴장
4. 각 날씨를 선택하여 매출 등록 테스트

**예시**:
```
날짜: 2026-01-29
점포: 클럽하우스
날씨: 맑음
매출액: 2,500,000 (숫자 키패드로 입력)
메모: 날씨 좋아서 매출 증가
```

### 2️⃣ 숫자 키패드 입력 테스트
1. "매출 등록" 탭에서 매출액 필드 확인
2. 숫자 키패드(1-9, 0, 000, ⌫)로 입력
3. **큰 터치 버튼**으로 빠른 입력 확인
4. 백스페이스(⌫)로 수정 테스트
5. 천 단위 구분 기호 자동 표시 확인

**입력 예시**:
- `2` → `5` → `0` → `0` → `000` → `000` = `2,500,000원`

### 3️⃣ 당일 총매출 표시 테스트
1. "매출 내역" 탭 클릭
2. 날짜 필터 설정:
   - 시작일: 오늘
   - 종료일: 오늘
3. 필터 버튼 클릭
4. **당일 총매출 박스** 표시 확인:
   ```
   당일 총매출
   5,500,000원
   순매출 5,000,000원 + 부가세 500,000원
   ```
5. 4개 점포(클럽하우스+스타트하우스+동그늘집+서그늘집) 합계 확인

### 4️⃣ 날씨 아이콘 표시 테스트
1. "매출 내역" 탭에서 테이블 확인
2. "날씨" 컬럼에 이모지 표시 확인:
   - ☀️ (맑음)
   - ☁️ (흐림)
   - 🌧️ (비)
   - ❄️ (눈)
   - 🚫 (휴장)

### 5️⃣ 비밀번호 변경 테스트
1. **staff1**으로 로그인
2. 헤더 우측 상단 "🔑 비밀번호 변경" 버튼 클릭
3. 모달 창에서 입력:
   ```
   현재 비밀번호: staff1234
   새 비밀번호: newpass1234
   새 비밀번호 확인: newpass1234
   ```
4. "변경하기" 버튼 클릭
5. 성공 메시지 확인
6. **로그아웃**
7. 새 비밀번호(`newpass1234`)로 재로그인 테스트
8. 비밀번호를 원래대로 복구:
   ```
   현재 비밀번호: newpass1234
   새 비밀번호: staff1234
   새 비밀번호 확인: staff1234
   ```

### 6️⃣ 통합 시나리오 (실무 플로우)
1. **staff1**으로 로그인
2. **대시보드**에서 전체 매출 현황 확인
3. **매출 등록**:
   - 클럽하우스: 2,500,000원 (☀️ 맑음)
   - 스타트하우스: 1,800,000원 (☀️ 맑음)
   - 동그늘집: 1,200,000원 (☁️ 흐림)
   - 서그늘집: 950,000원 (☁️ 흐림)
4. **매출 내역**에서 당일 총매출 확인:
   - 예상: 6,450,000원 (순매출 5,863,636원 + 부가세 586,364원)
5. 각 매출 **마감** 처리
6. 로그아웃 후 **admin** 계정으로 재로그인
7. 마감된 매출 **해제** 테스트 (사유 입력)
8. 매출 수정 후 재마감

## 🐛 알려진 이슈
없음 (모든 기능 정상 작동)

## 📝 테스트 체크리스트
- [ ] 날씨 선택 (5가지 옵션)
- [ ] 숫자 키패드 입력
- [ ] 당일 총매출 표시 (순매출+부가세)
- [ ] 날씨 아이콘 표시
- [ ] 비밀번호 변경 (staff 계정)
- [ ] 비밀번호 변경 (admin 계정)
- [ ] 매출 등록 (날씨 포함)
- [ ] 매출 수정 (날씨 변경)
- [ ] 매출 삭제
- [ ] 매출 마감
- [ ] 마감 해제 (관리자)
- [ ] 대시보드 차트 표시
- [ ] 필터 기능

## 🔍 디버깅 팁
### 브라우저 콘솔에서 localStorage 초기화
```javascript
localStorage.clear()
location.reload()
```

### API 직접 테스트 (curl)
```bash
# 로그인
curl -X POST https://3000-irg0n80vhudz17xtp5hir-a402f90a.sandbox.novita.ai/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"staff1","password":"staff1234"}'

# 매출 등록 (날씨 포함)
curl -X POST https://3000-irg0n80vhudz17xtp5hir-a402f90a.sandbox.novita.ai/api/sales \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "saleDate": "2026-01-29",
    "storeId": 1,
    "amount": 2500000,
    "memo": "테스트",
    "weather": "맑음"
  }'
```

## 📞 문의
추가 테스트 필요 시 요청해주세요!
