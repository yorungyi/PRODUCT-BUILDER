-- 테스트 데이터 삽입 (개발용)

-- 테스트 직원 계정 추가 (비밀번호: staff1234)
INSERT OR IGNORE INTO users (username, password, name, role) VALUES 
  ('staff1', '$2b$10$TWXbM7Z53vbbVwjfZEoT9.MHCreeQaX.JGSQhVpHyIrezFpLaCdM.', '김직원', 'staff'),
  ('staff2', '$2b$10$TWXbM7Z53vbbVwjfZEoT9.MHCreeQaX.JGSQhVpHyIrezFpLaCdM.', '이매니저', 'staff');

-- 최근 7일 테스트 매출 데이터 (각 점포별)
INSERT OR IGNORE INTO daily_sales (sale_date, store_id, amount, memo, created_by) VALUES 
  -- 클럽하우스 (store_id: 1)
  ('2026-01-20', 1, 1250000, '조식 뷔페 만석', 2),
  ('2026-01-21', 1, 1180000, '중식 단체 예약 2팀', 2),
  ('2026-01-22', 1, 980000, '평일 한산', 2),
  ('2026-01-23', 1, 1420000, '저녁 코스 예약 많음', 2),
  ('2026-01-24', 1, 1680000, '주말 웨딩 행사', 2),
  ('2026-01-25', 1, 1750000, '주말 브런치 인기', 2),
  ('2026-01-26', 1, 1320000, '일요일 정상 운영', 2),
  
  -- 스타트하우스 (store_id: 2)
  ('2026-01-20', 2, 580000, '조조 티타임 많음', 2),
  ('2026-01-21', 2, 620000, '샌드위치 판매 호조', 2),
  ('2026-01-22', 2, 490000, '비 오는 날', 2),
  ('2026-01-23', 2, 710000, '오전 단체 내장', 2),
  ('2026-01-24', 2, 820000, '토요일 풀부킹', 2),
  ('2026-01-25', 2, 880000, '날씨 좋아 내장객 많음', 2),
  ('2026-01-26', 2, 650000, '일요일 정상', 2),
  
  -- 동그늘집 (store_id: 3)
  ('2026-01-20', 3, 320000, '라운딩 보통', 3),
  ('2026-01-21', 3, 280000, '비수기 평일', 3),
  ('2026-01-22', 3, 260000, '날씨 흐림', 3),
  ('2026-01-23', 3, 380000, '목요일 단체', 3),
  ('2026-01-24', 3, 520000, '주말 성수기', 3),
  ('2026-01-25', 3, 560000, '맥주 판매 증가', 3),
  ('2026-01-26', 3, 420000, '일요일 정상', 3),
  
  -- 서그늘집 (store_id: 4)
  ('2026-01-20', 4, 290000, '평일 한산', 3),
  ('2026-01-21', 4, 310000, '중식 메뉴 판매', 3),
  ('2026-01-22', 4, 240000, '비 오는 날', 3),
  ('2026-01-23', 4, 350000, '간식류 판매 증가', 3),
  ('2026-01-24', 4, 480000, '토요일 내장객 많음', 3),
  ('2026-01-25', 4, 510000, '주말 프로모션 효과', 3),
  ('2026-01-26', 4, 380000, '일요일 정상', 3);

-- 일부 매출 마감 처리 (최근 3일은 미마감)
UPDATE daily_sales 
SET is_closed = 1, closed_at = datetime('now'), closed_by = 1
WHERE sale_date < '2026-01-24';

-- 마감 이력 기록
INSERT INTO closing_history (daily_sales_id, action, performed_by, reason)
SELECT id, 'close', 1, '정상 마감'
FROM daily_sales 
WHERE sale_date < '2026-01-24' AND is_closed = 1;
